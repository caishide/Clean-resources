# Claude Code 项目配置

## 项目概述
项目名称：**binaryecom20** - 双轨制奖金系统

## 项目定位
这是一个基于《双轨制开悟仪专业薪酬制度设计书》V3.0版的奖金计算系统项目，涉及多层级的团队业绩奖励机制。

## 核心模块

### 1. 奖金计算引擎
- **直推模块**：直接推荐奖励（20%）
- **层碰模块**：每层第一对订单触发（25%）
- **对碰模块**：小区业绩满3000PV触发（10%）
- **管理模块**：5代内下级对碰奖提成（5-10%）
- **加权模块**：高级领导人团队业绩分红（团队5%）

### 2. 风控系统
- **K值风控熔断机制**
- **奖金总额控制**（不超过当周业绩70%）

## 技术架构
- **后端**：PHP + MySQL
- **部署方案**：Docker / WSL2
- **计算引擎**：定时任务驱动的批量计算

## 项目文件结构
```
.
├── docs/
│   ├── 技术方案.md              # 系统架构和核心算法
│   ├── 开发环境部署指南.md        # WSL2部署说明
│   ├── 开发环境选择指南.md        # Docker vs Composer对比
│   ├── 实施计划.md               # 开发阶段和时间表
│   ├── 需求文档.md               # 功能和非功能需求
│   └── 双轨制开悟仪专业薪酬制度设计书.pdf  # 设计规范文档
├── .claude/
│   └── commands/                # Claude Code自定义命令
└── .spec-workflow/              # 规范工作流配置
```

## 关键配置

### 数据库变更
```sql
ALTER TABLE users ADD (
    leader_level TINYINT DEFAULT 0,
    weight_factor DECIMAL(5,2) DEFAULT 1.0
);

CREATE TABLE k_factor_logs (
    week_start DATE PRIMARY KEY,
    k_factor DECIMAL(5,4)
);
```

### 性能目标
- 支持10万用户实时计算
- 每周批量计算处理
- 内存占用优化（<4GB）

## 开发指南
1. **新手推荐**：使用Composer方案快速上手
2. **团队协作**：使用Docker方案确保环境一致性
3. **调试方法**：参考docs/开发环境选择指南.md

## 注意事项
- 奖金计算涉及财务敏感数据，需严格测试
- K值风控机制需根据实际业绩动态调整
- 建议采用灰度发布策略验证计算准确性