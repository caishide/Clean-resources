<?php

/**
 * CORS Configuration
 *
 * 安全的跨域资源共享配置
 * 生产环境应限制允许的域名
 */

return [
    /*
    |--------------------------------------------------------------------------
    | Allowed Origins
    |--------------------------------------------------------------------------
    |
    | 指定允许访问API的域名列表
    | 生产环境应明确列出允许的域名，不要使用通配符 '*'
    |
    | 格式：
    | - 单个域名: 'https://example.com'
    | - 多个域名: ['https://example.com', 'https://admin.example.com']
    | - 全部允许: ['*'] (仅开发环境使用)
    |
    */

    'allowed_origins' => explode(',', env('CORS_ALLOWED_ORIGINS', '*')),

    /*
    |--------------------------------------------------------------------------
    | Allowed Origins Patterns
    |--------------------------------------------------------------------------
    |
    | 使用正则表达式模式匹配来源域名
    | 适用于需要动态匹配子域名等场景
    |
    */

    'allowed_origins_patterns' => [],

    /*
    |--------------------------------------------------------------------------
    | Allowed Methods
    |--------------------------------------------------------------------------
    |
    | 指定允许的HTTP方法
    |
    */

    'allowed_methods' => ['*'],

    /*
    |--------------------------------------------------------------------------
    | Allowed Headers
    |--------------------------------------------------------------------------
    |
    | 指定允许的请求头
    |
    */

    'allowed_headers' => ['*'],

    /*
    |--------------------------------------------------------------------------
    | Exposed Headers
    |--------------------------------------------------------------------------
    |
    | 指定允许客户端访问的响应头
    |
    */

    'exposed_headers' => [],

    /*
    |--------------------------------------------------------------------------
    | Max Age
    |--------------------------------------------------------------------------
    |
    | 预检请求(OPTIONS)的缓存时间（秒）
    | 设置为0表示不缓存
    |
    */

    'max_age' => 0,

    /*
    |--------------------------------------------------------------------------
    | Supports Credentials
    |--------------------------------------------------------------------------
    |
    | 是否允许携带凭据（cookies、授权头等）
    | 设为true时，allowed_origins不能使用通配符
    |
    */

    'supports_credentials' => false,

    /*
    |--------------------------------------------------------------------------
    | Paths
    |--------------------------------------------------------------------------
    |
    | 应用CORS规则的路由路径
    |
    */

    'paths' => ['api/*', 'sanctum/csrf-cookie'],
];
