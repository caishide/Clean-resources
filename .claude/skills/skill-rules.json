{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)"
                ]
            }
        },
        "backend-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Backend development patterns for Node.js/Express/TypeScript",
            "promptTriggers": {
                "keywords": [
                    "backend",
                    "backend development",
                    "microservice",
                    "controller",
                    "service",
                    "repository",
                    "route",
                    "routing",
                    "express",
                    "API",
                    "endpoint",
                    "middleware",
                    "validation",
                    "Zod",
                    "Prisma",
                    "database access",
                    "BaseController",
                    "dependency injection",
                    "unifiedConfig",
                    "configuration"
                ],
                "intentPatterns": [
                    "(create|add|implement|build).*?(route|endpoint|API|controller|service|repository)",
                    "(fix|handle|debug).*?(error|exception|backend)",
                    "(add|implement).*?(middleware|validation|error.*?handling)",
                    "(organize|structure|refactor).*?(backend|service|API)",
                    "(how to|best practice).*?(backend|route|controller|service)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "src/server/**/*.ts",
                    "src/app/api/**/*.ts",
                    "services/traffic-switcher/src/**/*.ts",
                    "services/**/*.ts"
                ],
                "pathExclusions": [
                    "**/*.test.ts",
                    "**/*.spec.ts"
                ],
                "contentPatterns": [
                    "router\\.",
                    "app\\.(get|post|put|delete|patch)",
                    "export.*Controller",
                    "export.*Service",
                    "prisma\\."
                ]
            }
        },
        "frontend-dev-guidelines": {
            "type": "guardrail",
            "enforcement": "suggest",
            "priority": "high",
            "description": "React/TypeScript best practices including MUI v7 compatibility",
            "promptTriggers": {
                "keywords": [
                    "component",
                    "react component",
                    "UI",
                    "interface",
                    "page",
                    "modal",
                    "dialog",
                    "form",
                    "MUI",
                    "Material-UI",
                    "Grid",
                    "styling",
                    "frontend",
                    "React"
                ],
                "intentPatterns": [
                    "(create|add|make|build|update|modify|edit).*?(component|UI|page|modal|dialog|form)",
                    "(how to|best practice).*?(component|react|MUI)",
                    "(style|design|layout).*?(component|UI)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "__disabled_frontend_skill__/**/*.never"
                ],
                "pathExclusions": [
                    "**/*.test.tsx",
                    "**/*.test.ts",
                    "**/*.spec.tsx",
                    "**/*.spec.ts",
                    "**/*.styles.ts",
                    "**/vite.config.ts",
                    "**/tsconfig.json"
                ],
                "contentPatterns": [
                    "from '@mui/material';",
                    "import.*Grid.*from.*@mui",
                    "<Grid ",
                    "Grid2",
                    "Unstable_Grid",
                    "makeStyles",
                    "@material-ui/core"
                ]
            },
            "blockMessage": "âš ï¸ BLOCKED - Frontend Best Practices Required\n\nðŸ“‹ REQUIRED ACTION:\n1. Use Skill tool: 'frontend-dev-guidelines'\n2. Review MUI v7 patterns (Grid uses size={{}} prop, NOT xs/sm props)\n3. Check React/TypeScript best practices\n4. Use proper styling patterns\n5. Then retry this edit\n\nReason: Enforce MUI v7 compatibility and React best practices\nFile: {file_path}\n\nðŸ’¡ TIP: Add '// @skip-validation' comment to skip future checks",
            "skipConditions": {
                "sessionSkillUsed": true,
                "fileMarkers": [
                    "@skip-validation"
                ],
                "envOverride": "SKIP_FRONTEND_GUIDELINES"
            }
        },
        "route-tester": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing authenticated API routes with JWT cookie-based auth",
            "promptTriggers": {
                "keywords": [
                    "test route",
                    "test endpoint",
                    "test API",
                    "route testing",
                    "API testing",
                    "authenticated route",
                    "JWT testing",
                    "cookie auth",
                    "test with auth"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?(route|endpoint|API)",
                    "(how to|how do I).*?test.*?(route|endpoint|API)",
                    "test.*?(authenticated|auth|JWT|cookie)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "src/app/api/**/*.ts",
                    "src/server/**/*.ts",
                    "tests/**/*.ts",
                    "e2e/**/*.ts"
                ],
                "contentPatterns": [
                    "router\\.(get|post|put|delete|patch)",
                    "app\\.(get|post|put|delete|patch)"
                ]
            }
        },
        "error-tracking": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Sentry error tracking and performance monitoring patterns",
            "promptTriggers": {
                "keywords": [
                    "error handling",
                    "exception",
                    "sentry",
                    "error tracking",
                    "captureException",
                    "monitoring",
                    "performance tracking"
                ],
                "intentPatterns": [
                    "(add|create|implement|setup).*?(error handling|sentry|error tracking)",
                    "(fix|handle|catch).*?(error|exception)",
                    "(how to|best practice).*?(error|sentry|monitoring)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/instrumentation.ts",
                    "**/sentry*.ts",
                    "src/server/**/*.ts",
                    "src/app/api/**/*.ts"
                ],
                "contentPatterns": [
                    "@sentry",
                    "Sentry\\.",
                    "captureException",
                    "captureMessage"
                ]
            }
        },
        "using-superpowers": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "critical",
            "description": "Meta-skill for using superpowers skills system - activates on every conversation",
            "promptTriggers": {
                "keywords": [
                    "superpower",
                    "superpowers",
                    "skill system",
                    "workflow",
                    "process",
                    "å¼€å§‹å¯¹è¯",
                    "æŠ€èƒ½å·¥å…·",
                    "æŠ€èƒ½ç³»ç»Ÿ"
                ],
                "intentPatterns": [
                    "(ä½¿ç”¨|ä½¿ç”¨).*?(superpower|skill|æŠ€èƒ½)",
                    "(å¼€å§‹|å¯åŠ¨).*?(å·¥ä½œ|å¼€å‘|é¡¹ç›®)",
                    "how to use.*?skill",
                    "æŠ€èƒ½.*?(å¦‚ä½•|æ€Žä¹ˆ)"
                ]
            }
        },
        "brainstorming": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Use when creating or developing, before writing code or implementation plans",
            "promptTriggers": {
                "keywords": [
                    "å¤´è„‘é£Žæš´",
                    "brainstorm",
                    "æƒ³æ³•",
                    "åˆ›æ„",
                    "è®¾è®¡",
                    "è§„åˆ’",
                    "idea",
                    "design",
                    "create",
                    "develop",
                    "æž„æ€",
                    "è®¾æƒ³"
                ],
                "intentPatterns": [
                    "(æˆ‘æƒ³|æˆ‘æƒ³|è®©æˆ‘ä»¬).*?(å¤´è„‘é£Žæš´|brainstorm|åˆ›æ„|æƒ³æ³•)",
                    "(åˆ›å»º|è®¾è®¡|è§„åˆ’|å¼€å‘).*?(é¡¹ç›®|åŠŸèƒ½|äº§å“)",
                    "æˆ‘æœ‰ä¸ªæƒ³æ³•",
                    "(create|design|plan|develop).*?(feature|project|product|app)",
                    "(how to|å¦‚ä½•).*?(design|create|plan)"
                ]
            }
        },
        "test-driven-development": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Use when implementing any feature or bugfix, before writing implementation code",
            "promptTriggers": {
                "keywords": [
                    "test-driven",
                    "tdd",
                    "test first",
                    "red green refactor",
                    "å•å…ƒæµ‹è¯•",
                    "unit test",
                    "å†™æµ‹è¯•",
                    "write test",
                    "implement feature",
                    "bug fix"
                ],
                "intentPatterns": [
                    "(write|create).*?test.*?(first|before)",
                    "(implement|add|build).*?(feature|functionality)",
                    "(fix|repair).*?(bug|issue)",
                    "(run|execute).*?(test|tests)",
                    "TDD|Red.*?Green.*?Refactor"
                ]
            }
        },
        "systematic-debugging": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Use when encountering any bug, test failure, or unexpected behavior",
            "promptTriggers": {
                "keywords": [
                    "debug",
                    "bug",
                    "error",
                    "failure",
                    "issue",
                    "problem",
                    "unexpected",
                    "è°ƒè¯•",
                    "é”™è¯¯",
                    "å¤±è´¥"
                ],
                "intentPatterns": [
                    "(fix|debug|solve).*?(bug|error|issue|problem)",
                    "(why|ä¸ºä»€ä¹ˆ).*?(not working|failed|error)",
                    "(test|æµ‹è¯•).*?(fail|failing|failure)",
                    "(è°ƒè¯•|è§£å†³).*?(é—®é¢˜|é”™è¯¯|æ•…éšœ)"
                ]
            }
        },
        "writing-plans": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when design is complete and you need detailed implementation tasks",
            "promptTriggers": {
                "keywords": [
                    "implementation plan",
                    "æ‰§è¡Œè®¡åˆ’",
                    "ä»»åŠ¡æ¸…å•",
                    "task list",
                    "steps",
                    "è¯¦ç»†è®¡åˆ’",
                    "detailed plan",
                    "roadmap"
                ],
                "intentPatterns": [
                    "(create|write|make).*?(plan|implementation|tasks)",
                    "(è¯¦ç»†|å…·ä½“).*?(è®¡åˆ’|æ­¥éª¤|task)",
                    "how to implement",
                    "what are the steps",
                    "break down.*?into tasks"
                ]
            }
        },
        "executing-plans": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when partner provides a complete implementation plan to execute",
            "promptTriggers": {
                "keywords": [
                    "execute plan",
                    "æ‰§è¡Œè®¡åˆ’",
                    "follow plan",
                    "implement plan",
                    "run tasks",
                    "execute tasks"
                ],
                "intentPatterns": [
                    "(execute|follow|run|implement).*?(plan|tasks)",
                    "(æŒ‰ç…§|æ ¹æ®).*?(è®¡åˆ’|task)",
                    "let's start implementing",
                    "begin implementation"
                ]
            }
        },
        "subagent-driven-development": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when executing implementation plans with independent tasks",
            "promptTriggers": {
                "keywords": [
                    "subagent",
                    "agent delegation",
                    "multiple tasks",
                    "parallel tasks",
                    "ç‹¬ç«‹ä»»åŠ¡",
                    "å¹¶è¡Œä»»åŠ¡"
                ],
                "intentPatterns": [
                    "(delegate|assign).*?(task|work).*?(agent)",
                    "(multiple|parallel).*?(tasks|jobs)",
                    "(åˆ†è§£|æ‹†åˆ†).*?(ä»»åŠ¡|tasks)"
                ]
            }
        },
        "root-cause-tracing": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when errors occur deep in execution and you need to trace back",
            "promptTriggers": {
                "keywords": [
                    "root cause",
                    "trace back",
                    "call stack",
                    "æºå¤´",
                    "æ ¹æº",
                    "è¿½æº¯",
                    "find source",
                    "where did it start"
                ],
                "intentPatterns": [
                    "(find|trace|identify).*?(root cause|source|origin)",
                    "(where|å“ªé‡Œ).*?(start|begin|come from)",
                    "(è¿½æº¯|æŸ¥æ‰¾).*?(æºå¤´|æ ¹æº|åŽŸå› )"
                ]
            }
        },
        "condition-based-waiting": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when tests have race conditions, timing dependencies",
            "promptTriggers": {
                "keywords": [
                    "race condition",
                    "timing",
                    "wait",
                    "timeout",
                    "flaky test",
                    "ç«žæ€æ¡ä»¶",
                    "å®šæ—¶",
                    "è¶…æ—¶"
                ],
                "intentPatterns": [
                    "(test|æµ‹è¯•).*?(fail|failing).*?(sometimes|intermittent)",
                    "(wait|ç­‰å¾…).*?(for|until)",
                    "(timeout|è¶…æ—¶).*?(error|issue)",
                    "(flaky|inconsistent).*?(test|tests)"
                ]
            }
        },
        "defense-in-depth": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when invalid data causes failures deep in execution",
            "promptTriggers": {
                "keywords": [
                    "validation",
                    "defense",
                    "input validation",
                    "data validation",
                    "é˜²å¾¡",
                    "éªŒè¯",
                    "å¤šå±‚éªŒè¯"
                ],
                "intentPatterns": [
                    "(validate|éªŒè¯).*?(input|data|user)",
                    "(add|implement).*?(validation|check)",
                    "(å¤šå±‚|å¤šå±‚).*?(éªŒè¯|æ£€æŸ¥)",
                    "(defense|é˜²æŠ¤).*?(layer|depth)"
                ]
            }
        },
        "dispatching-parallel-agents": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when facing 3+ independent failures that can be investigated concurrently",
            "promptTriggers": {
                "keywords": [
                    "parallel",
                    "concurrent",
                    "multiple issues",
                    "ç‹¬ç«‹é—®é¢˜",
                    "å¹¶è¡Œ",
                    "åŒæ—¶å¤„ç†"
                ],
                "intentPatterns": [
                    "(multiple|several|many).*?(issues|problems|bugs)",
                    "(parallel|concurrent).*?(investigation|work)",
                    "(åŒæ—¶|å¹¶è¡Œ).*?(å¤„ç†|è°ƒæŸ¥)"
                ]
            }
        },
        "finishing-a-development-branch": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when implementation is complete and you need to integrate the work",
            "promptTriggers": {
                "keywords": [
                    "finish branch",
                    "merge",
                    "complete",
                    "done",
                    "å®Œæˆ",
                    "åˆå¹¶",
                    "ç»“æŸå¼€å‘"
                ],
                "intentPatterns": [
                    "(finish|complete|done).*?(feature|implement)",
                    "(merge|åˆå¹¶).*?(branch|PR)",
                    "(å‡†å¤‡|ready).*?(merge|submit)"
                ]
            }
        },
        "receiving-code-review": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when receiving code review feedback, before implementing suggestions",
            "promptTriggers": {
                "keywords": [
                    "code review",
                    "review feedback",
                    "review comments",
                    "ä»£ç å®¡æŸ¥",
                    "å®¡æŸ¥æ„è§",
                    "åé¦ˆ"
                ],
                "intentPatterns": [
                    "(receive|get).*?(code review|feedback|comments)",
                    "(respond to|å›žåº”).*?(review|feedback)",
                    "(reviewer|å®¡æŸ¥è€…).*?(said|å»ºè®®)"
                ]
            }
        },
        "requesting-code-review": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when completing tasks, implementing major features, before merging",
            "promptTriggers": {
                "keywords": [
                    "request code review",
                    "submit for review",
                    "need review",
                    "è¯·æ±‚å®¡æŸ¥",
                    "æäº¤å®¡æŸ¥"
                ],
                "intentPatterns": [
                    "(request|ask for).*?(code review|review)",
                    "(submit|æäº¤).*?(for review|PR)",
                    "(ready for|å‡†å¤‡å¥½).*?(review|merge)"
                ]
            }
        },
        "testing-anti-patterns": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when writing or changing tests, adding mocks",
            "promptTriggers": {
                "keywords": [
                    "mock",
                    "test pattern",
                    "anti-pattern",
                    "stub",
                    "spy",
                    "æ¨¡æ‹Ÿå¯¹è±¡",
                    "æµ‹è¯•æ¨¡å¼"
                ],
                "intentPatterns": [
                    "(add|create|write).*?(mock|test)",
                    "(testing|æµ‹è¯•).*?(pattern|anti-pattern)",
                    "(avoid|é¿å…).*?(bad|anti-pattern).*?(test|testing)"
                ]
            }
        },
        "testing-skills-with-subagents": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "low",
            "description": "Use when creating or editing skills, before deployment",
            "promptTriggers": {
                "keywords": [
                    "test skill",
                    "skill testing",
                    "skill validation",
                    "æµ‹è¯•æŠ€èƒ½",
                    "æŠ€èƒ½éªŒè¯"
                ],
                "intentPatterns": [
                    "(test|validate).*?(skill|SKILL)",
                    "(create|edit|modify).*?(skill|SKILL)",
                    "(æµ‹è¯•|éªŒè¯).*?(æŠ€èƒ½|skill)"
                ]
            }
        },
        "sharing-skills": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "low",
            "description": "Use when you've developed a broadly useful skill and want to contribute upstream",
            "promptTriggers": {
                "keywords": [
                    "share skill",
                    "contribute",
                    "pull request",
                    "upstream",
                    "åˆ†äº«æŠ€èƒ½",
                    "è´¡çŒ®"
                ],
                "intentPatterns": [
                    "(share|contribute).*?(skill|SKILL)",
                    "(create PR|pull request).*?(skill)",
                    "(æäº¤|åˆ†äº«).*?(æŠ€èƒ½|skill)"
                ]
            }
        },
        "using-git-worktrees": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "low",
            "description": "Use when you need isolated workspaces for different tasks",
            "promptTriggers": {
                "keywords": [
                    "git worktree",
                    "isolated workspace",
                    "branch workspace",
                    "ç‹¬ç«‹å·¥ä½œç©ºé—´",
                    "åˆ†æ”¯å·¥ä½œåŒº"
                ],
                "intentPatterns": [
                    "(create|make|use).*?(worktree|workspace)",
                    "(isolated|separate).*?(workspace|branch)",
                    "(åˆ›å»º|ä½¿ç”¨).*?(å·¥ä½œç©ºé—´|åˆ†æ”¯)"
                ]
            }
        },
        "verification-before-completion": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "low",
            "description": "Use before marking tasks complete to verify requirements are met",
            "promptTriggers": {
                "keywords": [
                    "verify",
                    "validation",
                    "check completion",
                    "ç¡®è®¤å®Œæˆ",
                    "éªŒè¯",
                    "æ£€æŸ¥"
                ],
                "intentPatterns": [
                    "(verify|check|confirm).*?(complete|done|finished)",
                    "(éªŒè¯|ç¡®è®¤).*?(å®Œæˆ|ç»“æŸ)",
                    "(before|å®Œæˆå‰).*?(verify|check)"
                ]
            }
        },
        "writing-skills": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "low",
            "description": "Use when creating new skills or documenting skill processes",
            "promptTriggers": {
                "keywords": [
                    "write skill",
                    "create skill",
                    "skill documentation",
                    "å†™æŠ€èƒ½",
                    "åˆ›å»ºæŠ€èƒ½",
                    "æŠ€èƒ½æ–‡æ¡£"
                ],
                "intentPatterns": [
                    "(write|create|document).*?(skill|SKILL)",
                    "(how to|å¦‚ä½•).*?(write|create).*?(skill)",
                    "(ç¼–å†™|åˆ›å»º|å†™).*?(æŠ€èƒ½|skill)"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Adjust to match your project structure (blog-api, auth-service, etc.)",
            "keywords": "Add domain-specific terms relevant to your project",
            "intentPatterns": "Use regex for flexible user intent matching"
        }
    }
}
